@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500&display=swap');
@import "tailwindcss";

/* ============================================
   Genie Design System â€” Tailwind CSS v4
   ============================================ */

@theme {
  /* Typography */
  --font-sans: 'Inter', system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', monospace;

  /* Border Radius */
  --radius-sm: 0.25rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  --radius-xl: 0.75rem;
  --radius-2xl: 1rem;

  /* Spacing extras */
  --spacing-18: 4.5rem;
  --spacing-22: 5.5rem;

  /* Shadows */
  --shadow-soft: 0 2px 8px -2px hsl(222 47% 4% / 0.1), 0 4px 16px -4px hsl(222 47% 4% / 0.1);
  --shadow-soft-lg: 0 4px 12px -2px hsl(222 47% 4% / 0.15), 0 8px 24px -4px hsl(222 47% 4% / 0.1);
  --shadow-glow: 0 0 20px hsl(174 72% 56% / 0.3);
  --shadow-glow-lg: 0 0 40px hsl(174 72% 56% / 0.4);
  --shadow-card: 0 1px 3px hsl(222 47% 4% / 0.1), 0 1px 2px hsl(222 47% 4% / 0.06);
  --shadow-card-hover: 0 4px 12px hsl(222 47% 4% / 0.15), 0 2px 4px hsl(222 47% 4% / 0.1);

  /* Colors */
  --color-background: hsl(222 47% 6%);
  --color-foreground: hsl(210 40% 98%);

  --color-card: hsl(222 47% 8%);
  --color-card-foreground: hsl(210 40% 98%);

  --color-popover: hsl(222 47% 8%);
  --color-popover-foreground: hsl(210 40% 98%);

  --color-primary: hsl(174 72% 56%);
  --color-primary-foreground: hsl(222 47% 6%);

  --color-secondary: hsl(222 30% 14%);
  --color-secondary-foreground: hsl(210 40% 98%);

  --color-muted: hsl(222 30% 12%);
  --color-muted-foreground: hsl(215 20% 55%);

  --color-accent: hsl(174 72% 56%);
  --color-accent-foreground: hsl(222 47% 6%);

  --color-destructive: hsl(0 72% 51%);
  --color-destructive-foreground: hsl(210 40% 98%);

  --color-warning: hsl(38 92% 50%);
  --color-warning-foreground: hsl(222 47% 6%);

  --color-success: hsl(142 71% 45%);
  --color-success-foreground: hsl(222 47% 6%);

  --color-border: hsl(222 30% 18%);
  --color-input: hsl(222 30% 14%);
  --color-ring: hsl(174 72% 56%);

  /* Severity */
  --color-severity-critical: hsl(0 72% 51%);
  --color-severity-high: hsl(25 95% 53%);
  --color-severity-medium: hsl(38 92% 50%);
  --color-severity-low: hsl(215 20% 55%);

  /* Status */
  --color-status-open: hsl(0 72% 51%);
  --color-status-in-progress: hsl(38 92% 50%);
  --color-status-resolved: hsl(142 71% 45%);

  /* Genie-specific */
  --color-genie-surface: hsl(222 47% 10%);
  --color-genie-surface-hover: hsl(222 40% 14%);

  /* Sidebar */
  --color-sidebar: hsl(222 47% 5%);
  --color-sidebar-foreground: hsl(215 20% 65%);
  --color-sidebar-primary: hsl(174 72% 56%);
  --color-sidebar-primary-foreground: hsl(222 47% 6%);
  --color-sidebar-accent: hsl(222 40% 12%);
  --color-sidebar-accent-foreground: hsl(210 40% 98%);
  --color-sidebar-border: hsl(222 30% 14%);
  --color-sidebar-ring: hsl(174 72% 56%);

  /* Animations */
  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;
  --animate-fade-in: fade-in 0.2s ease-out;
  --animate-fade-out: fade-out 0.2s ease-out;
  --animate-scale-in: scale-in 0.2s ease-out;
  --animate-slide-in-right: slide-in-right 0.3s ease-out;
  --animate-slide-out-right: slide-out-right 0.3s ease-out;
  --animate-spin-slow: spin-slow 1.5s linear infinite;
  --animate-pulse-soft: pulse-soft 2s ease-in-out infinite;
  --animate-shimmer: shimmer 2s linear infinite;

  @keyframes accordion-down {
    from { height: 0; opacity: 0; }
    to { height: var(--radix-accordion-content-height); opacity: 1; }
  }
  @keyframes accordion-up {
    from { height: var(--radix-accordion-content-height); opacity: 1; }
    to { height: 0; opacity: 0; }
  }
  @keyframes fade-in {
    0% { opacity: 0; transform: translateY(4px); }
    100% { opacity: 1; transform: translateY(0); }
  }
  @keyframes fade-out {
    0% { opacity: 1; transform: translateY(0); }
    100% { opacity: 0; transform: translateY(4px); }
  }
  @keyframes scale-in {
    0% { transform: scale(0.95); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
  }
  @keyframes slide-in-right {
    0% { transform: translateX(100%); opacity: 0; }
    100% { transform: translateX(0); opacity: 1; }
  }
  @keyframes slide-out-right {
    0% { transform: translateX(0); opacity: 1; }
    100% { transform: translateX(100%); opacity: 0; }
  }
  @keyframes spin-slow {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  @keyframes pulse-soft {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.6; }
  }
  @keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }
}

/* ============================================
   Custom Properties (non-theme)
   ============================================ */
:root {
  --genie-gradient: linear-gradient(135deg, hsl(174 72% 56%) 0%, hsl(200 80% 50%) 100%);
  --genie-glow: 0 0 40px hsl(174 72% 56% / 0.3);
  --genie-border-subtle: 222 30% 16%;
  --sidebar-width: 15rem;
  --sidebar-width-collapsed: 3.5rem;
}

/* ============================================
   Base Styles
   ============================================ */
* {
  @apply border-border;
}

body {
  @apply bg-background text-foreground antialiased font-sans;
}

code, pre, .font-mono {
  @apply font-mono;
}

*:focus-visible {
  @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
}

/* ============================================
   Component Styles
   ============================================ */

/* Premium Cards */
.card-premium {
  @apply bg-card border border-border/50 rounded-xl shadow-card transition-all duration-200;
}
.card-premium:hover {
  @apply shadow-card-hover border-border;
}
.card-interactive {
  @apply bg-card border border-border/50 rounded-xl shadow-card transition-all duration-200 cursor-pointer;
}
.card-interactive:hover {
  @apply bg-secondary/20 shadow-card-hover border-border;
}

/* Table */
.table-premium {
  @apply w-full border-collapse;
}
.table-premium thead {
  @apply sticky top-0 z-10 bg-card;
}
.table-premium th {
  @apply px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider border-b border-border;
}
.table-premium td {
  @apply px-4 py-3 text-sm border-b border-border/50;
}
.table-premium tbody tr {
  @apply transition-colors duration-150;
}
.table-premium tbody tr:hover {
  @apply bg-secondary/30;
}

/* Buttons */
.btn-primary {
  @apply bg-primary text-primary-foreground hover:bg-primary/90 shadow-soft transition-all duration-150;
}
.btn-primary:hover {
  @apply shadow-soft-lg;
}
.btn-gradient {
  @apply text-primary-foreground hover:opacity-90 shadow-soft transition-all duration-150;
  background-image: var(--genie-gradient);
}
.btn-gradient:hover {
  @apply shadow-glow;
}

/* Badge variants */
.badge-critical {
  @apply bg-severity-critical/15 text-severity-critical border border-severity-critical/30;
}
.badge-high {
  @apply bg-severity-high/15 text-severity-high border border-severity-high/30;
}
.badge-medium {
  @apply bg-warning/15 text-warning border border-warning/30;
}
.badge-low {
  @apply bg-muted text-muted-foreground border border-border;
}
.badge-open {
  @apply bg-destructive/15 text-destructive border border-destructive/30;
}
.badge-in-progress {
  @apply bg-warning/15 text-warning border border-warning/30;
}
.badge-resolved {
  @apply bg-success/15 text-success border border-success/30;
}

/* Skeleton shimmer */
.skeleton-shimmer {
  @apply relative overflow-hidden bg-muted;
  background: linear-gradient(90deg, var(--color-muted) 0%, var(--color-secondary) 50%, var(--color-muted) 100%);
  background-size: 200% 100%;
  animation: shimmer 2s linear infinite;
}

/* Loading spinners */
.spinner {
  @apply w-5 h-5 border-2 border-primary/30 border-t-primary rounded-full animate-spin;
}
.spinner-sm { @apply w-4 h-4; }
.spinner-lg { @apply w-8 h-8; }

.hint {
  @apply text-xs text-muted-foreground mt-1;
}

/* Sidebar layout */
.sidebar-container {
  @apply fixed left-0 top-0 h-screen bg-sidebar border-r border-sidebar-border flex flex-col z-20;
  width: var(--sidebar-width);
  transition: width 0.2s ease-out, transform 0.2s ease-out;
}
.sidebar-collapsed .sidebar-container {
  width: var(--sidebar-width-collapsed);
}
@media (max-width: 1024px) {
  .sidebar-container { transform: translateX(-100%); }
  .sidebar-open .sidebar-container { transform: translateX(0); }
}
.main-content {
  margin-left: var(--sidebar-width);
  transition: margin-left 0.2s ease-out;
}
.sidebar-collapsed .main-content {
  margin-left: var(--sidebar-width-collapsed);
}
@media (max-width: 1024px) {
  .main-content { margin-left: 0; }
}

/* ============================================
   Utility Styles
   ============================================ */
.genie-gradient-text {
  @apply bg-clip-text text-transparent;
  background-image: var(--genie-gradient);
}
.genie-gradient-bg {
  background-image: var(--genie-gradient);
}
.genie-glow {
  box-shadow: var(--genie-glow);
}
.genie-surface {
  background-color: var(--color-genie-surface);
}
.genie-border-subtle {
  border-color: hsl(var(--genie-border-subtle));
}
.glass {
  @apply backdrop-blur-md bg-background/80;
}
.hover-lift {
  @apply transition-transform duration-200;
}
.hover-lift:hover {
  @apply -translate-y-0.5;
}
.hover-glow {
  @apply transition-shadow duration-200;
}
.hover-glow:hover {
  @apply shadow-glow;
}
.focus-ring {
  @apply focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background focus-visible:outline-none;
}

/* Scrollbar */
.scrollbar-thin {
  scrollbar-width: thin;
  scrollbar-color: var(--color-border) transparent;
}
.scrollbar-thin::-webkit-scrollbar { width: 6px; height: 6px; }
.scrollbar-thin::-webkit-scrollbar-track { background: transparent; }
.scrollbar-thin::-webkit-scrollbar-thumb { background-color: var(--color-border); border-radius: 3px; }
.scrollbar-thin::-webkit-scrollbar-thumb:hover { background-color: var(--color-muted-foreground); }

.text-balance { text-wrap: balance; }

.truncate-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
.truncate-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Keyboard shortcut badge */
.kbd {
  @apply inline-flex items-center justify-center px-1.5 py-0.5 text-[10px] font-medium text-muted-foreground bg-secondary border border-border rounded font-mono;
}
