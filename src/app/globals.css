@import "tailwindcss";

/* ============================================
   Genie Design System â€” Tailwind CSS v4
   ============================================ */

@theme {
  /* Typography */
  --font-sans: 'DM Sans', system-ui, sans-serif;
  --font-mono: 'DM Mono', 'Fira Code', monospace;

  /* Border Radius */
  --radius-sm: 0.25rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  --radius-xl: 0.75rem;
  --radius-2xl: 1rem;

  /* Spacing extras */
  --spacing-18: 4.5rem;
  --spacing-22: 5.5rem;

  /* Shadows */
  --shadow-soft: 0 2px 8px -2px rgba(0,0,0,0.5), 0 4px 16px -4px rgba(0,0,0,0.4);
  --shadow-soft-lg: 0 4px 12px -2px rgba(0,0,0,0.6), 0 8px 24px -4px rgba(0,0,0,0.5);
  --shadow-glow: 0 0 20px hsl(258 90% 62% / 0.35);
  --shadow-glow-lg: 0 0 40px hsl(258 90% 62% / 0.45);
  --shadow-card: 0 1px 3px rgba(0,0,0,0.5), 0 1px 2px rgba(0,0,0,0.4);
  --shadow-card-hover: 0 4px 16px rgba(0,0,0,0.5), 0 2px 4px rgba(0,0,0,0.4);

  /* Colors */
  --color-background: hsl(252 18% 4%);
  --color-foreground: hsl(248 67% 96%);

  --color-card: hsl(252 18% 7%);
  --color-card-foreground: hsl(248 67% 96%);

  --color-popover: hsl(252 18% 7%);
  --color-popover-foreground: hsl(248 67% 96%);

  --color-primary: hsl(258 90% 62%);
  --color-primary-foreground: hsl(248 67% 97%);

  --color-secondary: hsl(252 18% 11%);
  --color-secondary-foreground: hsl(248 67% 96%);

  --color-muted: hsl(252 18% 9%);
  --color-muted-foreground: hsl(243 7% 53%);

  --color-accent: hsl(191 100% 50%);
  --color-accent-foreground: hsl(252 18% 4%);

  --color-destructive: hsl(350 84% 60%);
  --color-destructive-foreground: hsl(248 67% 96%);

  --color-warning: hsl(38 92% 50%);
  --color-warning-foreground: hsl(252 18% 4%);

  --color-success: hsl(157 68% 45%);
  --color-success-foreground: hsl(252 18% 4%);

  --color-border: hsl(252 18% 19%);
  --color-input: hsl(252 18% 11%);
  --color-ring: hsl(258 100% 68%);

  /* Severity */
  --color-severity-critical: hsl(350 84% 60%);
  --color-severity-high: hsl(25 95% 53%);
  --color-severity-medium: hsl(38 92% 50%);
  --color-severity-low: hsl(243 7% 53%);

  /* Status */
  --color-status-open: hsl(350 84% 60%);
  --color-status-in-progress: hsl(38 92% 50%);
  --color-status-resolved: hsl(157 68% 45%);

  /* Genie-specific */
  --color-genie-surface: hsl(252 18% 9%);
  --color-genie-surface-hover: hsl(252 18% 13%);

  /* Sidebar */
  --color-sidebar: hsl(252 18% 3%);
  --color-sidebar-foreground: hsl(243 7% 65%);
  --color-sidebar-primary: hsl(258 100% 68%);
  --color-sidebar-primary-foreground: hsl(248 67% 96%);
  --color-sidebar-accent: hsl(252 18% 11%);
  --color-sidebar-accent-foreground: hsl(248 67% 96%);
  --color-sidebar-border: hsl(252 18% 11%);
  --color-sidebar-ring: hsl(258 100% 68%);

  /* Animations */
  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;
  --animate-fade-in: fade-in 0.2s ease-out;
  --animate-fade-out: fade-out 0.2s ease-out;
  --animate-scale-in: scale-in 0.2s ease-out;
  --animate-slide-in-right: slide-in-right 0.3s ease-out;
  --animate-slide-out-right: slide-out-right 0.3s ease-out;
  --animate-spin-slow: spin-slow 1.5s linear infinite;
  --animate-pulse-soft: pulse-soft 2s ease-in-out infinite;
  --animate-shimmer: shimmer 2s linear infinite;

  @keyframes accordion-down {
    from { height: 0; opacity: 0; }
    to { height: var(--radix-accordion-content-height); opacity: 1; }
  }
  @keyframes accordion-up {
    from { height: var(--radix-accordion-content-height); opacity: 1; }
    to { height: 0; opacity: 0; }
  }
  @keyframes fade-in {
    0% { opacity: 0; transform: translateY(4px); }
    100% { opacity: 1; transform: translateY(0); }
  }
  @keyframes fade-out {
    0% { opacity: 1; transform: translateY(0); }
    100% { opacity: 0; transform: translateY(4px); }
  }
  @keyframes scale-in {
    0% { transform: scale(0.95); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
  }
  @keyframes slide-in-right {
    0% { transform: translateX(100%); opacity: 0; }
    100% { transform: translateX(0); opacity: 1; }
  }
  @keyframes slide-out-right {
    0% { transform: translateX(0); opacity: 1; }
    100% { transform: translateX(100%); opacity: 0; }
  }
  @keyframes spin-slow {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  @keyframes pulse-soft {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.6; }
  }
  @keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }
}

/* ============================================
   Custom Properties (non-theme)
   ============================================ */
:root {
  --genie-gradient: linear-gradient(135deg, hsl(258 90% 62%), hsl(258 90% 62%));
  --genie-glow: 0 0 40px hsl(258 90% 62% / 0.35);
  --genie-border-subtle: 252 18% 16%;
  --sidebar-width: 15rem;
  --sidebar-width-collapsed: 3.5rem;
}

/* ============================================
   Base Styles
   ============================================ */
* {
  @apply border-border;
}

body {
  @apply bg-background text-foreground antialiased font-sans;
}

code, pre, .font-mono {
  @apply font-mono;
}

*:focus-visible:not(.genie *) {
  @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
}

/* Chat panel manages its own focus styles */
.genie *:focus-visible {
  outline: none;
  box-shadow: none;
}

/* ============================================
   Component Styles
   ============================================ */

/* Premium Cards */
.card-premium {
  @apply bg-card border border-border/50 rounded-xl shadow-card transition-all duration-200;
}
.card-premium:hover {
  @apply shadow-card-hover border-border;
}
.card-interactive {
  @apply bg-card border border-border/50 rounded-xl shadow-card transition-all duration-200 cursor-pointer;
}
.card-interactive:hover {
  @apply bg-secondary/20 shadow-card-hover border-border;
}

/* Table */
.table-premium {
  @apply w-full border-collapse;
}
.table-premium thead {
  @apply sticky top-0 z-10 bg-card;
}
.table-premium th {
  @apply px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider border-b border-border;
}
.table-premium td {
  @apply px-4 py-3 text-sm border-b border-border/50;
}
.table-premium tbody tr {
  @apply transition-colors duration-150;
}
.table-premium tbody tr:hover {
  @apply bg-secondary/30;
}

/* Buttons */
.btn-primary {
  @apply bg-primary text-primary-foreground hover:bg-primary/90 shadow-soft transition-all duration-150;
}
.btn-primary:hover {
  @apply shadow-soft-lg;
}
.btn-gradient {
  @apply bg-primary text-primary-foreground hover:bg-primary/90 shadow-soft transition-all duration-150;
}
.btn-gradient:hover {
  @apply shadow-glow;
}

/* Badge variants */
.badge-critical {
  @apply bg-severity-critical/15 text-severity-critical border border-severity-critical/30;
}
.badge-high {
  @apply bg-severity-high/15 text-severity-high border border-severity-high/30;
}
.badge-medium {
  @apply bg-warning/15 text-warning border border-warning/30;
}
.badge-low {
  @apply bg-muted text-muted-foreground border border-border;
}
.badge-open {
  @apply bg-destructive/15 text-destructive border border-destructive/30;
}
.badge-in-progress {
  @apply bg-warning/15 text-warning border border-warning/30;
}
.badge-resolved {
  @apply bg-success/15 text-success border border-success/30;
}

/* Skeleton shimmer */
.skeleton-shimmer {
  @apply relative overflow-hidden bg-muted;
  background: linear-gradient(90deg, var(--color-muted) 0%, var(--color-secondary) 50%, var(--color-muted) 100%);
  background-size: 200% 100%;
  animation: shimmer 2s linear infinite;
}

/* Loading spinners */
.spinner {
  @apply w-5 h-5 border-2 border-primary/30 border-t-primary rounded-full animate-spin;
}
.spinner-sm { @apply w-4 h-4; }
.spinner-lg { @apply w-8 h-8; }

.hint {
  @apply text-xs text-muted-foreground mt-1;
}

/* Sidebar layout */
.sidebar-container {
  @apply fixed left-0 top-0 h-screen bg-sidebar border-r border-sidebar-border flex flex-col z-20;
  width: var(--sidebar-width);
  transition: width 0.2s ease-out, transform 0.2s ease-out;
}
.sidebar-collapsed .sidebar-container {
  width: var(--sidebar-width-collapsed);
}
@media (max-width: 1024px) {
  .sidebar-container { transform: translateX(-100%); }
  .sidebar-open .sidebar-container { transform: translateX(0); }
}
.main-content {
  margin-left: var(--sidebar-width);
  transition: margin-left 0.2s ease-out;
}
.sidebar-collapsed .main-content {
  margin-left: var(--sidebar-width-collapsed);
}
@media (max-width: 1024px) {
  .main-content { margin-left: 0; }
}

/* ============================================
   Utility Styles
   ============================================ */
.genie-gradient-text {
  @apply bg-clip-text text-transparent;
  background-image: linear-gradient(135deg, hsl(258 100% 68%), hsl(280 90% 65%));
}
.genie-gradient-bg {
  background-color: hsl(258 90% 62%);
  font-weight: 700;
}
.genie-glow {
  box-shadow: var(--genie-glow);
}
.genie-surface {
  background-color: var(--color-genie-surface);
}
.genie-border-subtle {
  border-color: hsl(var(--genie-border-subtle));
}
.glass {
  @apply backdrop-blur-md bg-background/80;
}
.hover-lift {
  @apply transition-transform duration-200;
}
.hover-lift:hover {
  @apply -translate-y-0.5;
}
.hover-glow {
  @apply transition-shadow duration-200;
}
.hover-glow:hover {
  @apply shadow-glow;
}
.focus-ring {
  @apply focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background focus-visible:outline-none;
}

/* Scrollbar */
.scrollbar-thin {
  scrollbar-width: thin;
  scrollbar-color: var(--color-border) transparent;
}
.scrollbar-thin::-webkit-scrollbar { width: 6px; height: 6px; }
.scrollbar-thin::-webkit-scrollbar-track { background: transparent; }
.scrollbar-thin::-webkit-scrollbar-thumb { background-color: var(--color-border); border-radius: 3px; }
.scrollbar-thin::-webkit-scrollbar-thumb:hover { background-color: var(--color-muted-foreground); }

.text-balance { text-wrap: balance; }

.truncate-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
.truncate-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Keyboard shortcut badge */
.kbd {
  @apply inline-flex items-center justify-center px-1.5 py-0.5 text-[10px] font-medium text-muted-foreground bg-secondary border border-border rounded font-mono;
}

/* Scroll reveal animations */
.scroll-reveal {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}

.scroll-reveal.is-visible {
  opacity: 1;
  transform: translateY(0);
}

/* Staggered animation delays for child elements */
.stagger-1 { transition-delay: 0.1s; }
.stagger-2 { transition-delay: 0.2s; }
.stagger-3 { transition-delay: 0.3s; }
.stagger-4 { transition-delay: 0.4s; }
.stagger-5 { transition-delay: 0.5s; }
.stagger-6 { transition-delay: 0.6s; }
.stagger-7 { transition-delay: 0.7s; }
.stagger-8 { transition-delay: 0.8s; }
